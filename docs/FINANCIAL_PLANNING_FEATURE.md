# 理財產品配 - 財務規劃功能

## 功能概述

理財產品配是一個綜合性的財務規劃工具，專為顧問設計，用於幫助客戶進行全面的財務規劃和退休規劃。

## 主要功能

### 1. 產品配置頁面 (Page 1)

#### 產品類別
- **投資類**
  - 基金 (Funds)
  - 強積金 (MPF)
- **儲蓄類**
  - 儲蓄計劃 (Saving Plans)
  - 銀行 (Bank)
  - 退休基金 (Retirement Funds)
- **房地產類**
  - 自住 (Own-living)
  - 租賃 (Renting)
  - 出租 (Owner)

#### 產品管理功能
- 創建新產品 (最多30個)
- 複製現有產品
- 刪除產品
- 保存用戶配置 (最多30個用戶)
- 載入已保存的配置

### 2. 財務分析頁面 (Page 2)

#### 基本設定
- 退休年齡設定
- 通脹率設定
- 當前資產價值
- 開支階段設定 (最多5個階段)

#### 財務分析指標
- 總月收入 (包括工作、租金、投資收益等)
- 月被動收入 (無需工作的收入)
- 總開支 (按通脹率調整)
- 淨現金流 (收入 - 開支)
- 總資產 (包括預期增長)
- 總負債 (剩餘按揭、貸款等)
- 淨資產 (資產 - 負債)
- 資產配置分析 (餅圖)
- 現金儲備 (可覆蓋開支的月數)
- 提取率 (退休規劃)
- 資產耗盡風險評估

#### 視覺化圖表
- 年度趨勢線圖 (淨資產、被動收入、開支)
- 資產配置餅圖
- 收入來源柱狀圖

## 技術實現

### 組件結構
```
FinancialPlanningTab/
├── FinancialPlanningTab.js (主組件)
├── ProductConfigurationPage.js (產品配置頁面)
├── FinancialAnalysisPage.js (財務分析頁面)
├── ProductCard.js (產品卡片)
├── CreateProductModal.js (創建產品模態框)
└── LoadUserModal.js (載入用戶模態框)
```

### 依賴項
- React 18.2.0
- Chart.js (圖表庫)
- react-chartjs-2 (React Chart.js 包裝器)
- Tailwind CSS (樣式)

### 數據存儲
- 使用 localStorage 保存用戶配置
- 支持最多30個用戶的數據保存
- 每個用戶最多30個產品配置

## 使用流程

### 1. 開始配置
1. 點擊 "創建" 按鈕
2. 選擇產品類別 (投資/儲蓄/房地產)
3. 選擇具體產品類型
4. 填寫產品詳細信息

### 2. 產品配置
- 根據不同產品類型填寫相應字段
- 系統自動計算產品摘要
- 可複製現有產品節省時間

### 3. 財務分析
- 設定退休年齡和通脹率
- 配置開支階段
- 選擇分析期間
- 查看詳細的財務分析結果

### 4. 保存和載入
- 點擊 "保存" 保存當前配置
- 點擊 "載入已保存" 載入之前的配置

## 計算公式

### 基金投資
- 總股息 = 投資金額 × (1 + 預期回報率)^年數 - 投資金額

### 強積金
- 65歲時總額 = 月供款 × 12 × (1 + 預期回報率)^供款年數

### 儲蓄計劃
- 退保時總額 = 供款金額 × 供款年期 × 頻率倍數

### 銀行產品
- 提取時總額 = 總供款 + (總供款 × 利率 × 年期)

### 退休基金
- 退休時總額 = 供款金額 × 頻率倍數 × 供款年數

### 自住物業
- 供完樓年齡 = 購買年齡 + (按揭金額 ÷ 月供 ÷ 12)

### 租賃
- 總租金支出 = 月租 × 12 × 租賃年數

### 出租物業
- 總租金收入 = 月租 × 12 × 擁有年數

## 特色功能

1. **智能計算**: 自動計算各種財務指標
2. **視覺化分析**: 豐富的圖表展示
3. **靈活配置**: 支持多種產品類型
4. **數據持久化**: 本地保存用戶配置
5. **用戶友好**: 直觀的界面設計
6. **專業分析**: 全面的財務規劃工具

## 未來擴展

- 支持更多產品類型
- 添加風險評估模型
- 集成外部數據源
- 支持多幣種
- 添加稅務規劃功能
- 支持團隊協作 